# ShapeNetV2 Dataset Preprocessing
This directory contains code for preprocessing ShapeNetV2 models for pretraining
our object completion model. Partial scans are generated by rendering virtual 
scans of a mesh from random viewpoints in Blender.

Requirements:
- numpy
- trimesh
- mesh2sdf
- bpy==3.6.0


To generate partial scans:
1. Download [ShapeNetV2](https://shapenet.org/) dataset.
2. To generate watertight meshes run:
    ```bash
        python data/preprocess/ShapeNet55/generate_watertight_meshes.py --data_dir [path to ShapeNetV2 dataset] --output_dir data/ShapeNet55/
    ```
3. Install [Blender 3.4.1](https://www.blender.org/).
4. To render depth maps run:
    ```bash
        blender -b -P data/preprocess/ShapeNet55/generate_depth_maps.py -- --data_dir data/ShapeNet55/
    ```

Following this process should generate all the relevant data needed to pre-train our object completion model and place it under the `data/ShapeNet55/` directory.